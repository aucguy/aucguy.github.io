var base=base||{};base.indexFunc=function(a){var b=[["gui/mainMenu","assets/gui/mainMenu.svg","text"],["gui/loseMenu","assets/gui/loseMenu.svg","text"],["images/triangle","assets/images/triangle.svg","text"],["images/square","assets/images/square.svg","text"],["images/circle","assets/images/circle.svg","text"],["images/pentagon","assets/images/pentagon.svg","text"],["images/direction","assets/images/direction-up.svg","image"]];base.loadAssets(b.concat([["scripts/app","app.min.js","script"]]))};
/*
 * Base.js by aucguy. Under MIT License.
 * built on  2016-04-17
 */

var base=function(a){function b(a){G=a,B(errorCallbacks,a),console.error(a.stack);var b=document.getElementById("error div"),c=document.getElementById("error text"),d=document.getElementById("display");c&&(c.innerHTML=a.stack),b&&(b.style.display="block"),d&&(d.style.display="none")}function c(a,c,d){if(!G)try{a.apply(c,d)}catch(e){b(e)}}function d(a){return function(){c(a,this,arguments)}}function e(a,b){return function(){var c=1==arguments.length?[arguments[0]]:Array.apply(null,arguments);c[0]=base.external(c[0]);var d=a.apply(null,c);return b.push(d),d}}function f(a,b){return function(b){a(b),C.splice(C.indexOf(b),1)}}function g(a,b,c,e){var f=d(c);a.addEventListener(b,f,e),D.push({element:a,event:b,ext:f,callback:c,capture:e})}function h(a,b,c){for(var d=0;d<D.length;d++){var e=D[d];if(e.element==a&&e.event==b&&e.callback==c){e.element.removeEventListener(b,e.ext),D.splice(d,1);break}}}function i(a){for(var b=a,c={};a;){for(var d=Object.getOwnPropertyNames(a),e=0;e<d.length;e++){var f,g=d[e];if(g.startsWith(R)){var h=g.slice(R.length);f=a[h],f||(h=h[0].toLowerCase()+h.slice(1),f=a[h],f||(f=a[g]))}else f=a[g];"function"==typeof f?c[g]=f.bind(b):c[g]=f}a=Object.getPrototypeOf(a)}return c}function j(){var b=i(a);return b.setInterval=H,b.clearInterval=I,b.requestAnimationFrame=N,b.cancelAnimationFrame=O,b.setTimeout=P,b.clearTimeout=Q,b}function k(a,b){var c={name:a,scope:null,initFunc:b};S[a]=c,B(T,c)}function l(a){var b=S[a];if(!b)throw new Error("module '"+a+"' is not defined");return b.scope||(b.scope=b.initFunc()),b.scope}function m(a){return U[a].data}function n(a,b,c,d,e,f){return{type:c,id:a,url:b,data:d,extra:e?e:null,xhr:f?f:null}}function o(a,b,c,d){a in U||(s(),u(v(V,b),function(e){try{U[a]=n(a,b,c,e.responseText,d,e),t()}catch(f){throw t(),f}},function(b){throw t(),new Error("failed to retrieve asset "+a)}))}function p(a,b,c,d){if(!(a in U)){s();var e=document.createElement(Y[c]||c);"script"==c?(document.head.appendChild(e),e.onload=t):e.onload=base.external(function(){U[a]=n(a,b,c,e,d),t()}),e.onerror=base.external(function(){throw new Error("failed to load asset '"+a+"' at '"+b+"'")}),e.src=v(V,b)}}function q(a,b,c,d){"text"==Y[c]?o(a,b,c,d):p(a,b,c,d)}function r(a){for(var b=0;b<a.length;b++){var c=a[b];q(c[0],c[1],c[2],c[3])}}function s(){W=0>W?1:W+1}function t(){W--,X++}function u(a,b,c){"undefined"==typeof c&&(c=function(b){console.warn("asset '"+a+"' failed to load with a status of "+b.status)});var e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");e.onreadystatechange=d(function(){4==e.readyState&&(200==e.status||0===e.status?b(e):c(e))}),e.open("GET",a,!0),e.send()}function v(){for(var a=[],b=0,c=arguments.length;c>b;b++)a=a.concat(arguments[b].split("/"));var d=[];for(b=0,c=a.length;c>b;b++){var e=a[b];e&&"."!==e&&(".."===e?d.pop():d.push(e))}return(a[0].startsWith("/")||a[0].startsWith("\\"))&&d.unshift(""),d.join("/")||(d.length?"/":".")}function w(){y(),aa=H(x,100),A($.INDEX_NOT_LOADED)}function x(){z(),y(),0===W&&(A($.APP_INITING),mainModule=l("main"),mainModule.init(),A($.APP_RUNNING))}function y(){var a=document.getElementById(_),b=a.getContext("2d");b.fillStyle="#000000",b.fillRect(0,0,a.width,a.height),b.textBaseline="top",b.font="72px Arial",b.strokeStyle="#FFFFFF";var c,d;if(ba==$.ASSETS_LOADING){var e=W+X;d="Loading: "+e+"/"+e,c="Loading: "+X+"/"+e}else c=ba==$.APP_INITING?"Initializing":"Bad State",d=c;var f=b.measureText(d);b.strokeText(c,a.width/2-f.width/2,a.height/2-36)}function z(){ba==$.INDEX_NOT_LOADED&&null!==Z&&(Z(),A($.ASSETS_LOADING))}function A(a){a!=ba&&(ba=a,B(stateChangeCallbacks,a))}function B(a,b){for(var c=0;c<a.length;c++)a[c](b)}errorCallbacks=[];for(var C=[],D=[],E=[],F=[],G=null,H=e(setInterval,C),I=f(clearInterval,C),J=["ms","moz","webkit","o"],K=a.requestAnimationFrame,L=a.cancelAnimationFrame,M=0;M<J.length&&!K;M++)K=a[J[M]+"RequestAnimationFrame"],L=a[J[M]+"CancelAnimationFrame"];var N=e(K,E),O=f(L,E),P=e(setTimeout,F),Q=f(clearTimeout,F),R="webkit";errorCallbacks.push(function(a){var b;for(b=0;b<C.length;b++)I(C[b]);for(b=0;b<D.length;b++){var c=D[b];h(c.element,c.event,c.callback)}for(b=0;b<E.length;b++)O(E[b]);for(b=0;b<F.lenght;b++)clearTimeout(F[b])});var S={},T=[],U={},V="",W=-1,X=0,Y={image:"img",spritesheet:"img",text:"text",json:"text",tilemap:"text"},Z=(a.base?a.base.indexFunc:null)||[],$={BASE_NOT_LOADED:0,INDEX_NOT_LOADED:1,ASSETS_LOADING:2,APP_INITING:3,APP_RUNNING:4},_="display",aa=null,ba=$.BASE_NOT_RUN;return stateChangeCallbacks=[],stateChangeCallbacks.push(function(a){a==$.APP_INITING&&(I(aa),y())}),stateChangeCallbacks.push(z),g(document,"DOMContentLoaded",w,!1),{onError:b,runSafely:c,external:d,setInterval:H,clearInterval:I,addEventListener:g,removeEventListener:h,requestAnimationFrame:K,cancelAnimationFrame:O,setTimeout:setTimeout,clearTimeout:clearTimeout,customWindow:j,getErrorCallbacks:function(){return errorCallbacks},getRegisterCallbacks:function(){return T},registerModule:k,importModule:l,getBasePath:function(){return V},setBasePath:function(a){V=a},getAsset:m,getAssets:function(){return U},loadText:o,loadTag:p,loadAsset:q,loadAssets:r,decrLoading:t,getStates:function(){return $},getStateChangeCallbacks:function(){return stateChangeCallbacks},getLoadingState:function(){return ba},setLoadingState:function(a){A(a)}}}(this);
//# sourceMappingURL=base.min.js.map