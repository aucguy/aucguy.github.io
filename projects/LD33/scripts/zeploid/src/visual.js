"use strict";base.registerModule("visual",function(t){var o=base.importModule("util"),s=base.importModule("engine"),a={constructor:base.abstractMethod,textures:base.abstractField};function d(e,t,a,r,n){var i=s.makeCanvas(r,n);return i.getContext("2d").drawImage(e,-t,-a),i}t.graphicsProvider=a,t.setGraphicsProvider=function(e){a=e,t.graphicsProvider=e},t.clipCanvas=d,t.blitCenter=function(e,t,a,r){e.getContext("2d").drawImage(t,a-t.width/2,r-t.width/2)},t.splitSheet=function(e,t,a){for(var r=new o.Dictionary,n=0;n<e.width/t;n++)for(var i=0;i<e.height/a;i++)r.put([n,i],d(e,n*t,i*a,t,a));return r},t.resize=function(e,t,a){var r=s.makeCanvas(t,a).getContext("2d");return r.mozImageSmoothingEnabled=!1,r.msImageSmoothingEnabled=!1,r.imageSmoothingEnabled=!1,r.scale(t/e.width,a/e.height),r.drawImage(e,0,0),r.canvas},t.flipTextures=function(e){for(var t=[],a=0;a<e.length;a++){var r=e[a],n=s.makeCanvas(r.width,r.height).getContext("2d");n.translate(r.width,0),n.scale(-1,1),n.drawImage(r,0,0),t.push(n.canvas)}return t}});