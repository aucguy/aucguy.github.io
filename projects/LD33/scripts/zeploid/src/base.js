var base={};!function(e,r){function n(){a("base"),a("run")}function t(r){for(var n=0;n<e.errorCallbacks.length;n++)e.errorCallbacks[n](r);console.error(r.name+": "+r.message),console.error(r.stack);var t=document.getElementById("error div"),o=document.getElementById("error text"),a=document.getElementById("display");o.innerHTML=r.name+": "+r.message+"\n"+r.stack,t.style.display="block",a.style.display="none"}function o(e){try{e()}catch(r){t(r)}}function a(e){var n=l[e];if(0!==n.phase)return n.scope;n.phase=1;var t=null;if("?global"==n.name)t=r,n.module(t);else if("?thisIsWindow"==n.name)n.module.call(r);else if(n.name.startsWith("!")){var e=n.name.substring(1,n.name.length);t=r[e],null===t&&(t={},r[e]=t),n.module(t)}else t=n.scope,null===t&&(t={},n.scope=t),n.module(t);return n.phase=2,t}e.errorCallbacks=[];var l=[];e.init=function(){o(n)},e.onError=t,e.runAndReportErrors=o,e.importModule=a,e.onModuleRegistered=function(){},e.registerModule=function(r,n,t){l[r.startsWith("!")?r.substring(1,r.length):r]={name:r,module:n,scope:null,phase:0},e.onModuleRegistered()},document.addEventListener("DOMContentLoaded",e.init,!1)}(base,this),base.registerModule("!base",function(e){function r(e,r){return null===e?null===r:"string"==typeof r?typeof e==r:e instanceof r}var n=[],t=[];e.extend=function(e,r,n){e instanceof Array||(e=[e]);var t={},o=n;if(!o.hasOwnProperty("constructor"))throw new Error("Constructor must be defined");for(var a,l=0;l<e.length;l++){var s=e[l];for(a in s.prototype)if(s.prototype.hasOwnProperty(a)){var u=s.prototype[a];t[a]=u,void 0!==typeof s.prototype.__name__&&-1==a.indexOf("$")&&(t[a+"$"+s.prototype.__name__]=u)}}t.__name__=r;for(a in o)o.hasOwnProperty(a)&&(t[a]=o[a]);return t.constructor.prototype=t,Object.setPrototypeOf(t.constructor.prototype,e[0].prototype),t.constructor},e.setInterval=function(r,t){var o=setInterval(function(){e.runAndReportErrors(r)},t);return n.push(o),o},e.clearInterval=function(e){clearInterval(e),n.splice(n.indexOf(e),1)},e.addListener=function(e,r,n){var o=base.external(n);e.addEventListener(r,o),t.push({element:e,event:r,ext:o,callback:n})},e.removeListener=function(e,r,n){for(var o=0;o<t.length;o++){var a=t[o];if(a.element==e&&a.event==r&&a.callback==n){a.element.removeEventListener(r,a.ext),t.splice(o,1);break}}},e.errorCallbacks.push(function(r){var o;for(o=0;o<n.length;o++)e.clearInterval(n[o]);for(o=0;o<t.length;o++){var a=t[o];e.removeListener(a.element,a.event,a.callback)}}),e.runAndOnFail=function(e,r,n){return function(){try{r.apply(e,arguments)}catch(t){for(var o=[t],a=0;a<arguments.length;a++)o.push(arguments[a]);n.apply(null,o)}}},e.external=function(r){var n=e.runAndOnFail(null,r,base.onError);return n.func=r,n},e.assertType=function(e,n){if(!r(e,n))throw new Error("value is not correct type")},e.safeParseInt=function(e){return Math.round(parseFloat(e))},e.abstractMethod=function(){throw new Error("Abstract Method called")}});