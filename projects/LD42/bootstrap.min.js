var base=(base=function(i){i.base=i.base||{},errorCallbacks=[];var a=[],s=[],r=[],o=[],l=null;function c(e){Q(errorCallbacks,l=e),console.error(e.stack);var n=document.getElementById("error div"),t=document.getElementById("error text"),a=document.getElementById(i.base.displayId||"display");t&&(t.innerHTML=e.stack),n&&(n.style.display="block"),a&&(a.style.display="none")}function n(e,n,t){if(!l)try{e.apply(n,t)}catch(e){c(e)}}function u(e){return function(){n(e,this,arguments)}}function e(t,a){return function(){var e=1==arguments.length?[arguments[0]]:Array.apply(null,arguments);e[0]=base.external(e[0]);var n=t.apply(null,e);return a.push(n),n}}function t(n,t){return function(e){n(e),t.splice(t.indexOf(e),1)}}i.base.displayId=i.base.displayId||null,window.addEventListener("error",function(e){c(e.error)});var d=e(setInterval,a),g=t(clearInterval,a);function f(e,n,t,a){var i=u(t);e.addEventListener(n,i,a),s.push({element:e,event:n,ext:i,callback:t,capture:a})}function m(e,n,t){for(var a=0;a<s.length;a++){var i=s[a];if(i.element==e&&i.event==n&&i.callback==t){i.element.removeEventListener(n,i.ext),s.splice(a,1);break}}}for(var p=["ms","moz","webkit","o"],b=i.requestAnimationFrame,h=i.cancelAnimationFrame,v=0;v<p.length&&!b;v++)b=i[p[v]+"RequestAnimationFrame"],h=i[p[v]+"CancelAnimationFrame"];var x=e(b,r),A=t(h,r),w=e(setTimeout,o),y=t(clearTimeout,o),I="webkit";errorCallbacks.push(function(e){var n;for(n=0;n<a.length;n++)g(a[n]);for(n=0;n<s.length;n++){var t=s[n];m(t.element,t.event,t.callback)}for(n=0;n<r.length;n++)A(r[n]);for(n=0;n<o.lenght;n++)clearTimeout(o[n])});var k={},E=[];function L(e){var n=k[e];if(!n)throw new Error("module '"+e+"' is not defined");return n.scope||(n.scope=n.initFunc()),n.scope}var N={},T="",C=-1,P=0,S={image:"img",spritesheet:"img",text:"text",json:"text",tilemap:"text"},F=!(!i.AudioContext&&!i.webkitAudioContext);function O(e,n,t,a,i,s){return{type:t,id:e,url:n,data:a,extra:i||{},xhr:s||null}}function _(t,a,i,s){t in N||(D(),z(G(T,a),"audio"==i,function(e){try{var n=-1!=["json","tilemap"].indexOf(i)?JSON.parse(e.response):e.response;N[t]=O(t,a,i,n,s,e),j()}catch(e){throw j(),e}},function(e){throw j(),new Error("failed to retrieve asset "+t)}))}function M(e,n,t,a){if(!(e in N)){D();var i=document.createElement(S[t]||t);i.onload="script"==t?(document.head.appendChild(i),j):base.external(function(){N[e]=O(e,n,t,i,a),j()}),i.onerror=base.external(function(){throw new Error("failed to load asset '"+e+"' at '"+n+"'")}),i.src=G(T,n)}}function B(e,n,t,a){"text"==S[t]||"audio"==t&&F?_(e,n,t,a):M(e,n,t,a)}function D(){C=C<0?1:C+1}function j(){C--,P++}function z(n,e,t,a){void 0===a&&(a=function(e){console.warn("asset '"+n+"' failed to load with a status of "+e.status)});var i=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");i.responseType=e?"arraybuffer":"text",i.onreadystatechange=u(function(){4==i.readyState&&(200==i.status||0===i.status?t(i):a(i))}),i.open("GET",n,!0),i.send()}function G(){for(var e=[],n=0,t=arguments.length;n<t;n++)e=e.concat(arguments[n].split("/"));var a=[];for(n=0,t=e.length;n<t;n++){var i=e[n];i&&"."!==i&&(".."===i?0===a.length||".."==a[a.length-1]?a.push(i):a.pop():a.push(i))}for(n=0;n<arguments.length;n++)if(arguments[n]){(arguments[n].startsWith("/")||arguments[n].startsWith("\\"))&&a.unshift("");break}return a.join("/")||(a.length?"/":".")}i.base.indexFunc=i.base.indexFunc||null;var R={BASE_NOT_LOADED:0,INDEX_NOT_LOADED:1,ASSETS_LOADING:2,APP_INITING:3,APP_RUNNING:4},X="display",q=null,W=R.BASE_NOT_RUN;function H(e,n,t){null!==i.base.renderLoadingScreen&&i.base.renderLoadingScreen(e,n,t)}function U(){J(),H(X,C,P),0===C&&(K(R.APP_INITING),mainModule=L("main"),mainModule.init(),K(R.APP_RUNNING))}function J(){W==R.INDEX_NOT_LOADED&&null!==i.base.indexFunc&&(i.base.indexFunc(),K(R.ASSETS_LOADING))}function K(e){e!=W&&(W=e,Q(stateChangeCallbacks,e))}function Q(e,n){for(var t=0;t<e.length;t++)e[t](n)}return stateChangeCallbacks=[],i.base.renderLoadingScreen=i.base.renderLoadingScreen||null,stateChangeCallbacks.push(function(e){e==R.APP_INITING&&(g(q),H())}),stateChangeCallbacks.push(J),f(document,"DOMContentLoaded",function(){H(X,C,P),q=d(U,100),K(R.INDEX_NOT_LOADED)},!1),{displayId:i.base.displayId,onError:c,runSafely:n,external:u,setInterval:d,clearInterval:g,addEventListener:f,removeEventListener:m,requestAnimationFrame:b,cancelAnimationFrame:A,setTimeout:setTimeout,clearTimeout:clearTimeout,customWindow:function(){var e=function(e){for(var n=e,t={};e;){for(var a=Object.getOwnPropertyNames(e),i=0;i<a.length;i++){var s,r=a[i];if(r.startsWith(I)){var o=r.slice(I.length);(s=e[o])||(s=e[o=o[0].toLowerCase()+o.slice(1)])||(s=e[r])}else s=e[r];t[r]="function"==typeof s?s.bind(n):s}e=Object.getPrototypeOf(e)}return t}(i);return e.setInterval=d,e.clearInterval=g,e.requestAnimationFrame=x,e.cancelAnimationFrame=A,e.setTimeout=w,e.clearTimeout=y,e},getErrorCallbacks:function(){return errorCallbacks},getRegisterCallbacks:function(){return E},registerModule:function(e,n){var t={name:e,scope:null,initFunc:n};k[e]=t,Q(E,t)},importModule:L,getBasePath:function(){return T},setBasePath:function(e){T=e},hasWebAudio:function(){return F},indexFunc:i.base.indexFunc,getAsset:function(e){return N[e].data},getAssets:function(){return N},loadText:_,loadTag:M,loadAsset:B,loadAssets:function(e,n){n=n||"";for(var t=0;t<e.length;t++){var a=e[t];B(a[0],G(n,a[1]),a[2],a[3])}},decrLoading:j,ajax:z,join:G,renderLoadingScreen:i.base.renderLoadingScreen,getStates:function(){return R},getStateChangeCallbacks:function(){return stateChangeCallbacks},getLoadingState:function(){return W},setLoadingState:function(e){K(e)}}}(this))||{},indexlib=indexlib||{};!function(){var o;indexlib.basePath=indexlib.basePath||"",indexlib.loadManifests=indexlib.loadManifests||function(){};var l=!1;indexlib.loadManifest=function(e,n){base.ajax(e,!1,function(e){base.loadAssets(JSON.parse(e.response).items,n)})},base.indexFunc=function(e){indexlib.loadManifests(),(o=new Image).onload=base.external(function(){l=!0}),o.src=base.join(indexlib.basePath,"assets/image/logo.png")},base.renderLoadingScreen=function(e,n,t){var a=document.getElementById(e);if(null!==a){var i=a.getContext("2d");if(null!==i){var s=i.canvas.width,r=i.canvas.height;i.fillStyle="#FFFFFF",i.fillRect(0,0,s,r),l&&i.drawImage(o,(s-o.width)/2,(r-o.height)/2),i.fillStyle="#000000",i.beginPath(),i.rect(20,r-40,s-40,20),i.stroke(),i.beginPath(),i.rect(20,r-40,t/(t+n)*(s-40),20),i.fill()}}}}(),(indexlib=indexlib||{}).basePath="",indexlib.loadManifests=function(){base.loadAssets([["scripts/app","app.min.js","script"],["image/background","assets/background.svg","image"],["image/cheese","assets/cheese.png","image"],["image/flour","assets/flour.png","image"],["image/pepper","assets/pepper.png","image"],["image/tomato","assets/tomato.png","image"],["image/water","assets/water.png","image"],["image/yeast","assets/yeast.png","image"],["image/bowl","assets/bowl.png","image"],["image/doughBowl","assets/doughBowl.png","image"],["image/pot","assets/pot.png","image"],["image/saucePot","assets/saucePot.png","image"],["image/saucePizza","assets/saucePizza.png","image"],["image/pizza","assets/pizza.png","image"],["image/cookBar","assets/cookBar.png","image"],["image/cookArrow","assets/cookArrow.png","image"],["image/wellnessBar","assets/wellnessBar.png","image"],["image/complete","assets/complete.png","image"],["config/zones","assets/zones.json","json"]])};