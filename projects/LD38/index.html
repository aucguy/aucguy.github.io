<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Planet Carbalsnahps 2</title>
        <script>/*
 * Base.js by aucguy. Under MIT License.
 * built on  2017-04-23
 */

var base=function(a){function b(b){G=b,B(errorCallbacks,b),console.error(b.stack);var c=document.getElementById("error div"),d=document.getElementById("error text"),e=document.getElementById(a.base.displayId||"display");d&&(d.innerHTML=b.stack),c&&(c.style.display="block"),e&&(e.style.display="none")}function c(a,c,d){if(!G)try{a.apply(c,d)}catch(e){b(e)}}function d(a){return function(){c(a,this,arguments)}}function e(a,b){return function(){var c=1==arguments.length?[arguments[0]]:Array.apply(null,arguments);c[0]=base.external(c[0]);var d=a.apply(null,c);return b.push(d),d}}function f(a,b){return function(c){a(c),b.splice(b.indexOf(c),1)}}function g(a,b,c,e){var f=d(c);a.addEventListener(b,f,e),D.push({element:a,event:b,ext:f,callback:c,capture:e})}function h(a,b,c){for(var d=0;d<D.length;d++){var e=D[d];if(e.element==a&&e.event==b&&e.callback==c){e.element.removeEventListener(b,e.ext),D.splice(d,1);break}}}function i(a){for(var b=a,c={};a;){for(var d=Object.getOwnPropertyNames(a),e=0;e<d.length;e++){var f,g=d[e];if(g.startsWith(R)){var h=g.slice(R.length);f=a[h],f||(h=h[0].toLowerCase()+h.slice(1),f=a[h],f||(f=a[g]))}else f=a[g];"function"==typeof f?c[g]=f.bind(b):c[g]=f}a=Object.getPrototypeOf(a)}return c}function j(){var b=i(a);return b.setInterval=H,b.clearInterval=I,b.requestAnimationFrame=N,b.cancelAnimationFrame=O,b.setTimeout=P,b.clearTimeout=Q,b}function k(a,b){var c={name:a,scope:null,initFunc:b};S[a]=c,B(T,c)}function l(a){var b=S[a];if(!b)throw new Error("module '"+a+"' is not defined");return b.scope||(b.scope=b.initFunc()),b.scope}function m(a){return U[a].data}function n(a,b,c,d,e,f){return{type:c,id:a,url:b,data:d,extra:e?e:{},xhr:f?f:null}}function o(a,b,c,d){a in U||(s(),u(v(V,b),"audio"==c,function(e){try{var f=["json","tilemap"].indexOf(c)!=-1?JSON.parse(e.response):e.response;U[a]=n(a,b,c,f,d,e),t()}catch(g){throw t(),g}},function(b){throw t(),new Error("failed to retrieve asset "+a)}))}function p(a,b,c,d){if(!(a in U)){s();var e=document.createElement(Y[c]||c);"script"==c?(document.head.appendChild(e),e.onload=t):e.onload=base.external(function(){U[a]=n(a,b,c,e,d),t()}),e.onerror=base.external(function(){throw new Error("failed to load asset '"+a+"' at '"+b+"'")}),e.src=v(V,b)}}function q(a,b,c,d){"text"==Y[c]||"audio"==c&&Z?o(a,b,c,d):p(a,b,c,d)}function r(a,b){b=b||"";for(var c=0;c<a.length;c++){var d=a[c];q(d[0],v(b,d[1]),d[2],d[3])}}function s(){W=W<0?1:W+1}function t(){W--,X++}function u(a,b,c,e){"undefined"==typeof e&&(e=function(b){console.warn("asset '"+a+"' failed to load with a status of "+b.status)});var f=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");f.responseType=b?"arraybuffer":"text",f.onreadystatechange=d(function(){4==f.readyState&&(200==f.status||0===f.status?c(f):e(f))}),f.open("GET",a,!0),f.send()}function v(){for(var a=[],b=0,c=arguments.length;b<c;b++)a=a.concat(arguments[b].split("/"));var d=[];for(b=0,c=a.length;b<c;b++){var e=a[b];e&&"."!==e&&(".."===e?0===d.length||".."==d[d.length-1]?d.push(e):d.pop():d.push(e))}return(a[0].startsWith("/")||a[0].startsWith("\\"))&&d.unshift(""),d.join("/")||(d.length?"/":".")}function w(b,c,d){null!==a.base.renderLoadingScreen&&a.base.renderLoadingScreen(b,c,d)}function x(){w(_,W,X),aa=H(y,100),A($.INDEX_NOT_LOADED)}function y(){z(),w(_,W,X),0===W&&(A($.APP_INITING),mainModule=l("main"),mainModule.init(),A($.APP_RUNNING))}function z(){ba==$.INDEX_NOT_LOADED&&null!==a.base.indexFunc&&(a.base.indexFunc(),A($.ASSETS_LOADING))}function A(a){a!=ba&&(ba=a,B(stateChangeCallbacks,a))}function B(a,b){for(var c=0;c<a.length;c++)a[c](b)}a.base=a.base||{},errorCallbacks=[];var C=[],D=[],E=[],F=[],G=null;a.base.displayId=a.base.displayId||null;for(var H=e(setInterval,C),I=f(clearInterval,C),J=["ms","moz","webkit","o"],K=a.requestAnimationFrame,L=a.cancelAnimationFrame,M=0;M<J.length&&!K;M++)K=a[J[M]+"RequestAnimationFrame"],L=a[J[M]+"CancelAnimationFrame"];var N=e(K,E),O=f(L,E),P=e(setTimeout,F),Q=f(clearTimeout,F),R="webkit";errorCallbacks.push(function(a){var b;for(b=0;b<C.length;b++)I(C[b]);for(b=0;b<D.length;b++){var c=D[b];h(c.element,c.event,c.callback)}for(b=0;b<E.length;b++)O(E[b]);for(b=0;b<F.lenght;b++)clearTimeout(F[b])});var S={},T=[],U={},V="",W=-1,X=0,Y={image:"img",spritesheet:"img",text:"text",json:"text",tilemap:"text"},Z=!(!a.AudioContext&&!a.webkitAudioContext);a.base.indexFunc=a.base.indexFunc||null;var $={BASE_NOT_LOADED:0,INDEX_NOT_LOADED:1,ASSETS_LOADING:2,APP_INITING:3,APP_RUNNING:4},_="display",aa=null,ba=$.BASE_NOT_RUN;return stateChangeCallbacks=[],a.base.renderLoadingScreen=a.base.renderLoadingScreen||null,stateChangeCallbacks.push(function(a){a==$.APP_INITING&&(I(aa),w())}),stateChangeCallbacks.push(z),g(document,"DOMContentLoaded",x,!1),{displayId:a.base.displayId,onError:b,runSafely:c,external:d,setInterval:H,clearInterval:I,addEventListener:g,removeEventListener:h,requestAnimationFrame:K,cancelAnimationFrame:O,setTimeout:setTimeout,clearTimeout:clearTimeout,customWindow:j,getErrorCallbacks:function(){return errorCallbacks},getRegisterCallbacks:function(){return T},registerModule:k,importModule:l,getBasePath:function(){return V},setBasePath:function(a){V=a},hasWebAudio:function(){return Z},indexFunc:a.base.indexFunc,getAsset:m,getAssets:function(){return U},loadText:o,loadTag:p,loadAsset:q,loadAssets:r,decrLoading:t,renderLoadingScreen:a.base.renderLoadingScreen,getStates:function(){return $},getStateChangeCallbacks:function(){return stateChangeCallbacks},getLoadingState:function(){return ba},setLoadingState:function(a){A(a)}}}(this);
//# sourceMappingURL=base.min.js.map
var base=base||{};!function(){var e,a=!1;base.indexFunc=function(t){var n=[["image/background","assets/image/background.svg","text"],["image/joint","assets/image/joint.svg","image"]];base.loadAssets(n.concat([["scripts/app","app.min.js","script"]])),e=new Image,e.onload=base.external(function(){a=!0}),e.src="assets/image/logo.png"},base.renderLoadingScreen=function(t,n,i){var s=document.getElementById(t);if(null!==s){var g=s.getContext("2d");if(null!==g){var c=g.canvas.width,l=g.canvas.height;g.fillStyle="#FFFFFF",g.fillRect(0,0,c,l),a&&g.drawImage(e,(c-e.width)/2,(l-e.height)/2),g.fillStyle="#000000",g.beginPath(),g.rect(20,l-40,c-40,20),g.stroke(),g.beginPath(),g.rect(20,l-40,i/(i+n)*(c-40),20),g.fill()}}}}();</script>
    </head>
    <body>
      <span id="gameContainer">
        <canvas id="display" width="600", height="400"></canvas>
        <div id="error div" style="display:none">
			    Oh, no! an error has occurred.
			    <p>
				    <textarea readonly id="error text" rows="25" cols="100">error text</textarea>
			    </p>
		    </div>
		  </span>
    </body>
</html>
